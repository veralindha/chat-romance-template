import VarStyleProvider from './StyleProvider.js'
import { formatStyleVars } from '../utils/elements';
var mountedVarKeys = [];

function StyleProvider(styleVars = {}) {
  mountedVarKeys.forEach(key => document.documentElement.style.removeProperty(key));
  mountedVarKeys.length = 0;
  var styles = formatStyleVars(styleVars);
  Object.entries(styles).forEach(([key, value]) => {
    document.documentElement.style.setProperty(key, value);
    mountedVarKeys.push(key);
  });
}

StyleProvider.Component = VarStyleProvider;

VarStyleProvider.install = function (app) {
  app.component(VarStyleProvider.name, VarStyleProvider);
};

StyleProvider.install = function (app) {
  app.component(VarStyleProvider.name, VarStyleProvider);
};

export var _StyleProviderComponent = VarStyleProvider;
export default StyleProvider;